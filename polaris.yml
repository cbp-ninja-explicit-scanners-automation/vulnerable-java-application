version: "1"
project:
  name: coverity-java-repo-scan
  branch: main
  revision:
  name: main
  date: ${scm.git.commit.date}
capture:
  #build:
    # cleanCommands:
      #- shell: [mvn, -B, -f, pom.xml, clean]
      #buildCommands:
      #- shell: [mvn, -B, -f, pom.xml, install]
    fileSystem:
      ears:
        extensions: [ear]
        files:
        - directory: ${project.projectDir}
    java:
      files:
      - directory: ${project.projectDir}
      # - excludeRegex: reference-data-test|/src/test/
    javascript:
      files:
      - directory: ${project.projectDir}
      # - excludeRegex: node_modules|bower_components|vendor
    wars:
      extensions: [war]
      files:
      - directory: ${project.projectDir}
analyze:
   mode: central
   coverity:
     caching:
       jars: disable
       tu-caching: disable
       rws: disable
       pfi: disable
install:
  coverity:
    version: default
serverUrl: https://cloudbees.polaris.synopsys.com
